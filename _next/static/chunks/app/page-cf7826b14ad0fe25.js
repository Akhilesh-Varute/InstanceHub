(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2104:(e,s,t)=>{Promise.resolve().then(t.bind(t,4023))},4023:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var a=t(5155),r=t(2115),n=t(1027),l=t(3463),i=t(9795);function o(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,l.$)(s))}let c=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:o(c({variant:r}),t),...n})});d.displayName="Alert";let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:o("mb-1 font-medium leading-none tracking-tight",t),...r})});u.displayName="AlertTitle";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("text-sm [&_p]:leading-relaxed",t),...r})});m.displayName="AlertDescription";var f=t(2317);let x=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:l=!1,...i}=e,c=l?f.DX:"button";return(0,a.jsx)(c,{className:o(x({variant:r,size:n,className:t})),ref:s,...i})});g.displayName="Button";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});h.displayName="Card";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex flex-col space-y-1.5 p-6",t),...r})});p.displayName="CardHeader";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("text-2xl font-semibold leading-none tracking-tight",t),...r})});b.displayName="CardTitle";let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("text-sm text-muted-foreground",t),...r})});v.displayName="CardDescription";let N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("p-6 pt-0",t),...r})});N.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";let j=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function y(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:o(j({variant:t}),s),...r})}var w=t(2341);let k=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(w.bL,{ref:s,className:o("relative overflow-hidden",t),...n,children:[(0,a.jsx)(w.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(C,{}),(0,a.jsx)(w.OK,{})]})});k.displayName=w.bL.displayName;let C=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...n}=e;return(0,a.jsx)(w.VM,{ref:s,orientation:r,className:o("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:(0,a.jsx)(w.lr,{className:"relative flex-1 rounded-full bg-border"})})});C.displayName=w.VM.displayName;var S=t(7217);let L=S.bL,R=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.B8,{ref:s,className:o("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});R.displayName=S.B8.displayName;let A=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.l9,{ref:s,className:o("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});A.displayName=S.l9.displayName;let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(S.UC,{ref:s,className:o("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});E.displayName=S.UC.displayName;var _=t(6235),O=t(1712),F=t(7742),T=t(9523),D=t(7195),I=t(6836),M=t(804);function V(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[f,x]=(0,r.useState)(!1),[j,w]=(0,r.useState)(""),C=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=new Date().toISOString();c(a=>[{message:e,type:s,timestamp:t},...a].slice(0,100))},S=async()=>{try{x(!0),C("Fetching instances...");let e=await fetch("/api/aws",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"list"})});if(!e.ok)throw Error("Failed to fetch instances");let t=await e.json();s(t),C("Successfully fetched ".concat(t.length," instances"),"success")}catch(e){i(e.message),C("Error: ".concat(e.message),"error")}finally{n(!1),x(!1)}},V=async(e,s,t)=>{try{if(C("Attempting to ".concat(s," instance ").concat(t," (").concat(e,")...")),!(await fetch("/api/aws",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:s,instanceId:e})})).ok)throw Error("Failed to ".concat(s," instance"));C("Successfully initiated ".concat(s," for instance ").concat(t),"success"),await S()}catch(e){i(e.message),C("Error: Failed to ".concat(s," instance - ").concat(e.message),"error")}};(0,r.useEffect)(()=>{S();let e=setInterval(S,3e4);return()=>clearInterval(e)},[]);let z=e=>{switch(e){case"running":return"bg-emerald-500";case"stopped":return"bg-rose-500";case"pending":return"bg-amber-500";case"stopping":return"bg-orange-500";default:return"bg-slate-500"}},B=e.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.id.toLowerCase().includes(j.toLowerCase())||e.type.toLowerCase().includes(j.toLowerCase()));return t?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen bg-gradient-to-b from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 p-8 rounded-lg bg-white shadow-lg",children:[(0,a.jsx)(_.A,{className:"w-12 h-12 animate-spin text-blue-500"}),(0,a.jsx)("p",{className:"text-xl font-semibold text-slate-700",children:"Loading instances..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"EC2 Instance Manager"}),(0,a.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage your AWS EC2 instances"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search instances...",className:"pl-10 pr-4 py-2 border rounded-lg bg-white/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:j,onChange:e=>w(e.target.value)}),(0,a.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,a.jsxs)(g,{onClick:S,disabled:f,variant:"outline",className:"flex items-center gap-2 bg-white/50 backdrop-blur-sm",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 ".concat(f?"animate-spin":"")}),"Refresh"]})]})]}),l&&(0,a.jsxs)(d,{variant:"destructive",className:"bg-rose-50 border-rose-200",children:[(0,a.jsx)(u,{children:"Error"}),(0,a.jsx)(m,{children:l})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(e.reduce((e,s)=>(e[s.state]=(e[s.state]||0)+1,e),{})).map(e=>{let[s,t]=e;return(0,a.jsx)(h,{className:"bg-white/50 backdrop-blur-sm hover:shadow-lg transition-shadow duration-300",children:(0,a.jsxs)(p,{className:"pb-2",children:[(0,a.jsxs)(v,{className:"uppercase text-xs font-semibold text-slate-500",children:[s," Instances"]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(b,{className:"text-2xl font-bold text-slate-800",children:t}),(0,a.jsx)(y,{className:"".concat(z(s)," text-white"),children:s})]})]})},s)})}),(0,a.jsxs)(L,{defaultValue:"instances",className:"space-y-4",children:[(0,a.jsxs)(R,{className:"bg-white/50 backdrop-blur-sm",children:[(0,a.jsxs)(A,{value:"instances",className:"flex items-center gap-2",children:[(0,a.jsx)(O.A,{className:"w-4 h-4"}),"Instances"]}),(0,a.jsxs)(A,{value:"logs",className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4"}),"Activity Logs"]})]}),(0,a.jsx)(E,{value:"instances",children:(0,a.jsx)("div",{className:"grid gap-4",children:B.map(e=>(0,a.jsx)(h,{className:"bg-white/50 backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:(0,a.jsx)(N,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:e.name}),(0,a.jsx)(y,{variant:"outline",className:"font-mono bg-white/50",children:e.type}),(0,a.jsx)(y,{className:"".concat(z(e.state)," text-white animate-pulse"),children:e.state})]}),(0,a.jsxs)("div",{className:"text-sm text-slate-500 space-y-1",children:[(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(T.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-mono",children:e.id})]}),(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),"Last Updated: ",new Date().toLocaleTimeString()]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["stopped"===e.state&&(0,a.jsxs)(g,{onClick:()=>V(e.id,"start",e.name),className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Start"]}),"running"===e.state&&(0,a.jsxs)(g,{onClick:()=>V(e.id,"stop",e.name),variant:"destructive",className:"bg-rose-500 hover:bg-rose-600",children:[(0,a.jsx)(M.A,{className:"w-4 h-4 mr-2"}),"Stop"]})]})]})})},e.id))})}),(0,a.jsx)(E,{value:"logs",children:(0,a.jsxs)(h,{className:"bg-white/50 backdrop-blur-sm",children:[(0,a.jsxs)(p,{children:[(0,a.jsx)(b,{children:"Activity Logs"}),(0,a.jsx)(v,{children:"Recent actions and system events"})]}),(0,a.jsx)(N,{children:(0,a.jsx)(k,{className:"h-[400px] pr-4",children:o.map((e,s)=>(0,a.jsxs)("div",{className:"mb-2 p-3 rounded-lg border ".concat("error"===e.type?"bg-rose-50 border-rose-200 text-rose-700":"success"===e.type?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-slate-50 border-slate-200 text-slate-700"),children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 block mb-1",children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsx)("p",{className:"text-sm",children:e.message})]},s))})})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[387,441,517,358],()=>s(2104)),_N_E=e.O()}]);